Проблема: Оптимизация сложного многоэтапного расчета.
_____________________________________________________

&НаСервере
Процедура ВыполнитьСложныйРасчет()
    Запрос = Новый Запрос;
    Запрос.Текст = 
        "ВЫБРАТЬ
        |   Номенклатура.Ссылка КАК Номенклатура,
        |   Номенклатура.Наименование КАК Наименование
        |ПОМЕСТИТЬ ВТ_Номенклатура
        |ИЗ
        |   Справочник.Номенклатура КАК Номенклатура
        |ГДЕ
        |   НЕ Номенклатура.ЭтоГруппа;
        |
        |////////////////////////////////////////////////////////////////////////////////
        |ВЫБРАТЬ
        |   ВТ_Номенклатура.Номенклатура,
        |   ВТ_Номенклатура.Наименование,
        |   СУММА(Продажи.Количество) КАК Продано
        |ИЗ
        |   ВТ_Номенклатура КАК ВТ_Номенклатура
        |   ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.Продажи КАК Продажи
        |   ПО ВТ_Номенклатура.Номенклатура = Продажи.Номенклатура
        |СГРУППИРОВАТЬ ПО
        |   ВТ_Номенклатура.Номенклатура,
        |   ВТ_Номенклатура.Наименование";
    
    Результат = Запрос.Выполнить().Выгрузить();
    // Дальнейшая обработка результата...
КонецПроцедуры
