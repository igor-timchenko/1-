Проблема: Запретить сохранение документа с номером, который уже существует для этого типа документов.
_____________________________________________________________________________________________________

// В модуле объекта документа
&НаСервере
Процедура ПередЗаписью(Отказ)
    Если Объект.Проведен ИЛИ Не Объект.Новый() Тогда
        Возврат;
    КонецЕсли;
    
    Запрос = Новый Запрос;
    Запрос.Текст = 
        "ВЫБРАТЬ ПЕРВЫЕ 1
        |   Документ.НашДокумент.Ссылка
        |ГДЕ
        |   Документ.НашДокумент.Номер = &Номер
        |   И Документ.НашДокумент.Дата = &Дата";
    
    Запрос.УстановитьПараметр("Номер", Объект.Номер);
    Запрос.УстановитьПараметр("Дата", Объект.Дата);
    
    Если Запрос.Выполнить().Выбрать().Следующий() Тогда
        Сообщить("Документ с таким номером и датой уже существует!", СтатусСообщения.Важное);
        Отказ = Истина;
    КонецЕсли;
КонецПроцедуры
